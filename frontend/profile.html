<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CarWash - MÃ¼ÅŸteri Paneli</title>
  <link rel="stylesheet" href="/carwash_project/frontend/css/tailwind.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .animate-fade-in-up {
      animation: fadeInUp 0.6s ease-out forwards;
    }

    .animate-slide-in {
      animation: slideIn 0.5s ease-out forwards;
    }

    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .sidebar-gradient {
      background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
    }

    .card-hover {
      transition: all 0.3s ease;
    }

    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    .status-pending {
      background: #fef3c7;
      color: #92400e;
    }

    .status-confirmed {
      background: #d1fae5;
      color: #065f46;
    }

    .status-completed {
      background: #e0e7ff;
      color: #3730a3;
    }

    .status-cancelled {
      background: #fecaca;
      color: #991b1b;
    }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">

  <!-- Header -->
  <header class="bg-white shadow-lg sticky top-0 z-50">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-center py-4">
        <div class="flex items-center space-x-4">
          <i class="fas fa-car text-3xl text-blue-600"></i>
          <h1 class="text-2xl font-bold text-blue-600">CarWash</h1>
        </div>

        <div class="flex items-center space-x-4">
          <div class="hidden md:flex items-center space-x-2">
            <i class="fas fa-user text-blue-600"></i>
            <span class="text-gray-700 font-medium">HoÅŸ Geldiniz, Ali YÄ±lmaz</span>
          </div>
          <div class="flex space-x-2">
            <button onclick="toggleNotifications()" class="relative p-2 text-gray-600 hover:text-blue-600 transition-colors">
              <i class="fas fa-bell text-xl"></i>
              <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">3</span>
            </button>
            <a href="C:\xampp2\htdocs\carwash\index.html" class="p-2 text-gray-600 hover:text-blue-600 transition-colors">
              <i class="fas fa-home text-xl"></i>
            </a>
            <a href="C:\xampp2\htdocs\carwash\login.html" class="p-2 text-gray-600 hover:text-red-600 transition-colors">
              <i class="fas fa-sign-out-alt text-xl"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="flex min-h-screen">
    <!-- Sidebar -->
  <aside class="sidebar-fixed fixed top-16 bottom-0 left-0 w-64 sidebar-gradient text-white z-30">
      <div class="flex flex-col h-full p-6">
        <div class="text-center mb-8">
          <div class="w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-user text-3xl"></i>
          </div>
          <h3 class="text-xl font-bold">Ali YÄ±lmaz</h3>
          <p class="text-sm opacity-75">ali.yilmaz@email.com</p>
        </div>

        <nav class="space-y-2 flex-1 overflow-auto">
          <a href="#dashboard" onclick="showSection('dashboard')" class="flex items-center p-3 rounded-lg bg-white bg-opacity-20">
            <i class="fas fa-tachometer-alt mr-3"></i>
            Genel BakÄ±ÅŸ
          </a>
          <a href="#carWashSelection" onclick="showSection('carWashSelection')" class="flex items-center p-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
            <i class="fas fa-hand-pointer mr-3"></i>
            Oto YÄ±kama SeÃ§imi
          </a>
          <a href="#reservations" onclick="showSection('reservations')" class="flex items-center p-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
            <i class="fas fa-calendar-check mr-3"></i>
            RezervasyonlarÄ±m
          </a>
          <a href="#profile" onclick="showSection('profile')" class="flex items-center p-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
            <i class="fas fa-user-edit mr-3"></i>
            Profil YÃ¶netimi
          </a>
          <a href="#vehicles" onclick="showSection('vehicles')" class="flex items-center p-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
            <i class="fas fa-car mr-3"></i>
            AraÃ§larÄ±m
          </a>
          <a href="#history" onclick="showSection('history')" class="flex items-center p-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
            <i class="fas fa-history mr-3"></i>
            GeÃ§miÅŸ Ä°ÅŸlemler
          </a>
          <a href="#support" onclick="showSection('support')" class="flex items-center p-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
            <i class="fas fa-headset mr-3"></i>
            Destek
          </a>
        </nav>
        <!-- Settings pinned at bottom -->
        <div class="mt-4 pt-4 border-t border-white/20">
          <a href="#settings" onclick="showSection('settings')" class="flex items-center p-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
            <i class="fas fa-cog mr-3"></i>
            Ayarlar
          </a>
        </div>
      </div>
    </aside>

  <!-- Main Content -->
  <main class="flex-1 p-8 lg:ml-64">
      <!-- Dashboard Overview -->
      <section id="dashboard" class="section-content">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">Genel BakÄ±ÅŸ</h2>
          <p class="text-gray-600">HesabÄ±nÄ±zÄ±n Ã¶zeti ve son aktiviteleriniz</p>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <div class="bg-white rounded-2xl p-6 card-hover shadow-lg">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-gray-600 text-sm">Toplam Rezervasyon</p>
                <p class="text-3xl font-bold text-blue-600">24</p>
              </div>
              <i class="fas fa-calendar-check text-4xl text-blue-600 opacity-20"></i>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 card-hover shadow-lg">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-gray-600 text-sm">Bu Ay</p>
                <p class="text-3xl font-bold text-green-600">5</p>
              </div>
              <i class="fas fa-calendar-day text-4xl text-green-600 opacity-20"></i>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 card-hover shadow-lg">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-gray-600 text-sm">Toplam Harcama</p>
                <p class="text-3xl font-bold text-purple-600">â‚º1,240</p>
              </div>
              <i class="fas fa-money-bill-wave text-4xl text-purple-600 opacity-20"></i>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 card-hover shadow-lg">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-gray-600 text-sm">Ortalama Puan</p>
                <p class="text-3xl font-bold text-yellow-600">4.8â˜…</p>
              </div>
              <i class="fas fa-star text-4xl text-yellow-600 opacity-20"></i>
            </div>
          </div>
        </div>

        <!-- Recent Reservations -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <div class="bg-white rounded-2xl p-6 shadow-lg">
            <h3 class="text-xl font-bold text-gray-800 mb-4">
              <i class="fas fa-clock text-blue-600 mr-2"></i>
              YaklaÅŸan Rezervasyonlar
            </h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                <div>
                  <h4 class="font-bold">DÄ±ÅŸ YÄ±kama + Ä°Ã§ Temizlik</h4>
                  <p class="text-sm text-gray-600">BugÃ¼n, 14:00 - CarWash Merkez</p>
                </div>
                <span class="status-confirmed px-3 py-1 rounded-full text-xs font-bold">OnaylandÄ±</span>
              </div>

              <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                <div>
                  <h4 class="font-bold">Tam DetaylandÄ±rma</h4>
                  <p class="text-sm text-gray-600">YarÄ±n, 10:00 - CarWash Premium</p>
                </div>
                <span class="status-pending px-3 py-1 rounded-full text-xs font-bold">Bekliyor</span>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 shadow-lg">
            <h3 class="text-xl font-bold text-gray-800 mb-4">
              <i class="fas fa-bell text-blue-600 mr-2"></i>
              Bildirimler
            </h3>
            <div class="space-y-4">
              <div class="p-4 bg-blue-50 rounded-lg border-l-4 border-blue-600">
                <p class="text-sm">Rezervasyonunuz onaylandÄ±. 14:00'te CarWash Merkez'de olun.</p>
                <p class="text-xs text-gray-500 mt-1">2 saat Ã¶nce</p>
              </div>

              <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-600">
                <p class="text-sm">Ã–nceki hizmetiniz tamamlandÄ±. Puan vererek deneyimlerinizi paylaÅŸÄ±n!</p>
                <p class="text-xs text-gray-500 mt-1">1 gÃ¼n Ã¶nce</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Oto YÄ±kama SeÃ§imi Section -->
      <section id="carWashSelection" class="section-content hidden">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">Oto YÄ±kama SeÃ§imi</h2>
          <p class="text-gray-600">Size en uygun oto yÄ±kama merkezini bulun ve rezervasyon yapÄ±n.</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
          <h3 class="text-xl font-bold text-gray-800 mb-4">Filtreleme SeÃ§enekleri</h3>
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div>
              <label for="cityFilter" class="block text-sm font-bold text-gray-700 mb-2">Åžehir</label>
              <select id="cityFilter" onchange="filterCarWashes()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                <option value="">TÃ¼m Åžehirler</option>
                <option value="Ä°stanbul">Ä°stanbul</option>
                <option value="Ankara">Ankara</option>
                <option value="Ä°zmir">Ä°zmir</option>
              </select>
            </div>
            <div>
              <label for="districtFilter" class="block text-sm font-bold text-gray-700 mb-2">Mahalle</label>
              <select id="districtFilter" onchange="filterCarWashes()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                <option value="">TÃ¼m Mahalleler</option>
                <!-- Options will be dynamically loaded based on city -->
              </select>
            </div>
            <div>
              <label for="carWashNameFilter" class="block text-sm font-bold text-gray-700 mb-2">CarWash AdÄ±</label>
              <input type="text" id="carWashNameFilter" onkeyup="filterCarWashes()" placeholder="CarWash adÄ± girin..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
            </div>
            <div class="flex items-end">
              <label for="favoriteFilter" class="flex items-center cursor-pointer">
                <input type="checkbox" id="favoriteFilter" onchange="filterCarWashes()" class="w-5 h-5 text-blue-600 rounded focus:ring-blue-500">
                <span class="ml-2 text-sm font-bold text-gray-700">Favorilerim</span>
              </label>
            </div>
          </div>
        </div>

        <div id="carWashList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Car wash cards will be loaded here by JavaScript -->
        </div>
      </section>

      <!-- Reservations Section -->
      <section id="reservations" class="section-content hidden">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">RezervasyonlarÄ±m</h2>
          <p class="text-gray-600">TÃ¼m rezervasyonlarÄ±nÄ±zÄ± gÃ¶rÃ¼ntÃ¼leyin ve yÃ¶netin</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
          <!-- Reservation List View -->
          <div id="reservationListView">
            <div class="p-6 border-b">
              <div class="flex justify-between items-center">
                <h3 class="text-xl font-bold">Aktif Rezervasyonlar</h3>
                <button onclick="showNewReservationForm()" class="gradient-bg text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all">
                  <i class="fas fa-plus mr-2"></i>Yeni Rezervasyon
                </button>
              </div>
            </div>

            <div class="overflow-x-auto">
              <table class="w-full">
                <thead class="bg-gray-50">
                  <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Hizmet</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tarih/Saat</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Konum</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Durum</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Fiyat</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ä°ÅŸlemler</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4">
                      <div>
                        <div class="font-medium">DÄ±ÅŸ YÄ±kama + Ä°Ã§ Temizlik</div>
                        <div class="text-sm text-gray-500">Toyota Corolla - 34 ABC 123</div>
                      </div>
                    </td>
                    <td class="px-6 py-4 text-sm">15.12.2024<br>14:00</td>
                    <td class="px-6 py-4 text-sm">CarWash Merkez</td>
                    <td class="px-6 py-4"><span class="status-confirmed px-2 py-1 rounded-full text-xs">OnaylandÄ±</span></td>
                    <td class="px-6 py-4 font-medium">â‚º130</td>
                    <td class="px-6 py-4 text-sm">
                      <button class="text-blue-600 hover:text-blue-900 mr-3">DÃ¼zenle</button>
                      <button class="text-red-600 hover:text-red-900">Ä°ptal</button>
                    </td>
                  </tr>

                  <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4">
                      <div>
                        <div class="font-medium">Tam DetaylandÄ±rma</div>
                        <div class="text-sm text-gray-500">Honda Civic - 34 XYZ 789</div>
                      </div>
                    </td>
                    <td class="px-6 py-4 text-sm">16.12.2024<br>10:00</td>
                    <td class="px-6 py-4 text-sm">CarWash Premium</td>
                    <td class="px-6 py-4"><span class="status-pending px-2 py-1 rounded-full text-xs">Bekliyor</span></td>
                    <td class="px-6 py-4 font-medium">â‚º200</td>
                    <td class="px-6 py-4 text-sm">
                      <button class="text-blue-600 hover:text-blue-900 mr-3">DÃ¼zenle</button>
                      <button class="text-red-600 hover:text-red-900">Ä°ptal</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- New Reservation Form -->
          <div id="newReservationForm" class="p-6 hidden">
            <h3 class="text-xl font-bold mb-6">Yeni Rezervasyon OluÅŸtur</h3>
            <form class="space-y-6" onsubmit="event.preventDefault(); submitNewReservation();">
              <!-- Service Selection -->
              <div>
                <label for="service" class="block text-sm font-bold text-gray-700 mb-2">Hizmet SeÃ§in</label>
                <select id="service" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                  <option value="">Hizmet SeÃ§iniz</option>
                  <option value="DÄ±ÅŸ YÄ±kama">DÄ±ÅŸ YÄ±kama</option>
                  <option value="DÄ±ÅŸ YÄ±kama + Ä°Ã§ Temizlik">DÄ±ÅŸ YÄ±kama + Ä°Ã§ Temizlik</option>
                  <option value="Tam DetaylandÄ±rma">Tam DetaylandÄ±rma</option>
                  <option value="Motor TemizliÄŸi">Motor TemizliÄŸi</option>
                </select>
              </div>

              <!-- Vehicle Selection -->
              <div>
                <label for="vehicle" class="block text-sm font-bold text-gray-700 mb-2">AraÃ§ SeÃ§in</label>
                <select id="vehicle" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                  <option value="">AraÃ§ SeÃ§iniz</option>
                  <option value="Toyota Corolla - 34 ABC 123">Toyota Corolla - 34 ABC 123</option>
                  <option value="Honda Civic - 34 XYZ 789">Honda Civic - 34 XYZ 789</option>
                  <!-- Dynamically load user's vehicles here -->
                </select>
              </div>

              <!-- Date and Time -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label for="reservationDate" class="block text-sm font-bold text-gray-700 mb-2">Tarih</label>
                  <input type="date" id="reservationDate" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                </div>
                <div>
                  <label for="reservationTime" class="block text-sm font-bold text-gray-700 mb-2">Saat</label>
                  <input type="time" id="reservationTime" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                </div>
              </div>

              <!-- Location -->
              <div>
                <label for="location" class="block text-sm font-bold text-gray-700 mb-2">Konum</label>
                <select id="location" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                  <option value="">Konum SeÃ§iniz</option>
                  <option value="CarWash Merkez">CarWash Merkez</option>
                  <option value="CarWash Premium">CarWash Premium</option>
                  <option value="CarWash Express">CarWash Express</option>
                </select>
              </div>

              <!-- Notes -->
              <div>
                <label for="notes" class="block text-sm font-bold text-gray-700 mb-2">Ek Notlar (Ä°steÄŸe BaÄŸlÄ±)</label>
                <textarea id="notes" rows="3" placeholder="Ã–zel istekleriniz veya notlarÄ±nÄ±z..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"></textarea>
              </div>

              <div class="flex justify-end space-x-4">
                <button type="button" onclick="hideNewReservationForm()" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-bold hover:bg-gray-50 transition-colors">
                  Geri DÃ¶n
                </button>
                <button type="submit" class="gradient-bg text-white px-6 py-3 rounded-lg font-bold hover:shadow-lg transition-all">
                  <i class="fas fa-calendar-plus mr-2"></i>Rezervasyon Yap
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Profile Management Section -->
      <section id="profile" class="section-content hidden">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">Profil YÃ¶netimi</h2>
          <p class="text-gray-600">KiÅŸisel bilgilerinizi gÃ¼ncelleyin</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <div class="lg:col-span-2">
            <div class="bg-white rounded-2xl shadow-lg p-6">
              <h3 class="text-xl font-bold mb-6">KiÅŸisel Bilgiler</h3>
              <form class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label for="profile_firstName" class="block text-sm font-bold text-gray-700 mb-2">Ad</label>
                    <input id="profile_firstName" type="text" value="Ali" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                  </div>
                  <div>
                    <label for="profile_lastName" class="block text-sm font-bold text-gray-700 mb-2">Soyad</label>
                    <input id="profile_lastName" type="text" value="YÄ±lmaz" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                  </div>
                </div>

                <div>
                  <label for="profile_emailAddress" class="block text-sm font-bold text-gray-700 mb-2">E-posta</label>
                  <input id="profile_emailAddress" type="email" value="ali.yilmaz@email.com" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                </div>

                <div>
                  <label for="profile_phoneNumber" class="block text-sm font-bold text-gray-700 mb-2">Telefon</label>
                  <input id="profile_phoneNumber" type="tel" value="0555 123 4567" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                </div>

                <div>
                  <label for="profile_addressField" class="block text-sm font-bold text-gray-700 mb-2">Adres</label>
                  <textarea id="profile_addressField" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">Ä°stanbul, KadÄ±kÃ¶y, Moda Mahallesi</textarea>
                </div>

                <button type="submit" class="gradient-bg text-white px-6 py-3 rounded-lg font-bold hover:shadow-lg transition-all">
                  <i class="fas fa-save mr-2"></i>Bilgileri GÃ¼ncelle
                </button>
              </form>
            </div>
          </div>

          <div class="bg-white rounded-2xl shadow-lg p-6">
            <h3 class="text-xl font-bold mb-6">Profil FotoÄŸrafÄ±</h3>
            <div class="text-center">
              <div class="w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-user text-4xl text-gray-400"></i>
              </div>
              <button class="gradient-bg text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all">
                <i class="fas fa-camera mr-2"></i>FotoÄŸraf DeÄŸiÅŸtir
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Vehicles Section -->
      <section id="vehicles" class="section-content hidden">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">AraÃ§larÄ±m</h2>
          <p class="text-gray-600">KayÄ±tlÄ± araÃ§larÄ±nÄ±zÄ± yÃ¶netin</p>
        </div>

        <div class="flex justify-between items-center mb-6">
          <h3 class="text-xl font-bold">KayÄ±tlÄ± AraÃ§lar</h3>
          <button onclick="openVehicleModal()" class="gradient-bg text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all">
            <i class="fas fa-plus mr-2"></i>AraÃ§ Ekle
          </button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="bg-white rounded-2xl p-6 card-hover shadow-lg">
            <div class="flex justify-between items-start mb-4">
              <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center">
                <i class="fas fa-car text-2xl text-blue-600"></i>
              </div>
              <button class="text-red-500 hover:text-red-700">
                <i class="fas fa-trash"></i>
              </button>
            </div>
            <h4 class="font-bold text-lg mb-2">Toyota Corolla</h4>
            <div class="space-y-1 text-sm text-gray-600">
              <p><span class="font-medium">Plaka:</span> 34 ABC 123</p>
              <p><span class="font-medium">Model:</span> 2020</p>
              <p><span class="font-medium">Renk:</span> Beyaz</p>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 card-hover shadow-lg">
            <div class="flex justify-between items-start mb-4">
              <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
                <i class="fas fa-car text-2xl text-green-600"></i>
              </div>
              <button class="text-red-500 hover:text-red-700">
                <i class="fas fa-trash"></i>
              </button>
            </div>
            <h4 class="font-bold text-lg mb-2">Honda Civic</h4>
            <div class="space-y-1 text-sm text-gray-600">
              <p><span class="font-medium">Plaka:</span> 34 XYZ 789</p>
              <p><span class="font-medium">Model:</span> 2019</p>
              <p><span class="font-medium">Renk:</span> Siyah</p>
            </div>
          </div>
        </div>
      </section>

      <!-- History Section -->
      <section id="history" class="section-content hidden">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">GeÃ§miÅŸ Ä°ÅŸlemler</h2>
          <p class="text-gray-600">Tamamlanan hizmetlerinizin geÃ§miÅŸi</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
          <div class="p-6 border-b">
            <h3 class="text-xl font-bold">Ä°ÅŸlem GeÃ§miÅŸi</h3>
          </div>

          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-50">
                <tr>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tarih</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Hizmet</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">AraÃ§</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Konum</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Fiyat</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Durum</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Puan</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 text-sm">10.12.2024<br>15:30</td>
                  <td class="px-6 py-4 text-sm">Tam DetaylandÄ±rma</td>
                  <td class="px-6 py-4 text-sm">Toyota Corolla</td>
                  <td class="px-6 py-4 text-sm">CarWash Premium</td>
                  <td class="px-6 py-4 font-medium">â‚º180</td>
                  <td class="px-6 py-4"><span class="status-completed px-2 py-1 rounded-full text-xs">TamamlandÄ±</span></td>
                  <td class="px-6 py-4">
                    <div class="flex text-yellow-400">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                    </div>
                  </td>
                </tr>

                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 text-sm">05.12.2024<br>11:00</td>
                  <td class="px-6 py-4 text-sm">DÄ±ÅŸ YÄ±kama</td>
                  <td class="px-6 py-4 text-sm">Honda Civic</td>
                  <td class="px-6 py-4 text-sm">CarWash Express</td>
                  <td class="px-6 py-4 font-medium">â‚º50</td>
                  <td class="px-6 py-4"><span class="status-completed px-2 py-1 rounded-full text-xs">TamamlandÄ±</span></td>
                  <td class="px-6 py-4">
                    <div class="flex text-yellow-400">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Support Section -->
      <section id="support" class="section-content hidden">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">Destek</h2>
          <p class="text-gray-600">YardÄ±ma mÄ± ihtiyacÄ±nÄ±z var? Size yardÄ±mcÄ± olalÄ±m</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <div class="bg-white rounded-2xl p-6 shadow-lg">
            <h3 class="text-xl font-bold mb-4">
              <i class="fas fa-question-circle text-blue-600 mr-2"></i>
              SÄ±k Sorulan Sorular
            </h3>
            <div class="space-y-4">
              <div>
                <h4 class="font-bold text-gray-800">Rezervasyonumu nasÄ±l iptal edebilirim?</h4>
                <p class="text-sm text-gray-600 mt-1">Rezervasyonlar bÃ¶lÃ¼mÃ¼nden iptal edebilirsiniz.</p>
              </div>
              <div>
                <h4 class="font-bold text-gray-800">Ã–deme yÃ¶ntemleri nelerdir?</h4>
                <p class="text-sm text-gray-600 mt-1">Nakit, kredi kartÄ± ve mobil Ã¶deme kabul ediyoruz.</p>
              </div>
              <div>
                <h4 class="font-bold text-gray-800">Hizmet kalitesi nasÄ±l garanti ediliyor?</h4>
                <p class="text-sm text-gray-600 mt-1">TÃ¼m hizmetlerimizde kalite garantisi veriyoruz.</p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 shadow-lg">
            <h3 class="text-xl font-bold mb-4">
              <i class="fas fa-headset text-blue-600 mr-2"></i>
              Bize UlaÅŸÄ±n
            </h3>
            <form class="space-y-4">
              <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">Konu</label>
                <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
                  <option>Rezervasyon Sorunu</option>
                  <option>Ã–deme Sorunu</option>
                  <option>Hizmet Kalitesi</option>
                  <option>DiÄŸer</option>
                </select>
              </div>

              <div>
                <label class="block text-sm font-bold text-gray-700 mb-2">MesajÄ±nÄ±z</label>
                <textarea rows="4" placeholder="Sorunuzu veya ÅŸikayetinizi yazÄ±n..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"></textarea>
              </div>

              <button type="submit" class="w-full gradient-bg text-white py-3 rounded-lg font-bold hover:shadow-lg transition-all">
                <i class="fas fa-paper-plane mr-2"></i>Mesaj GÃ¶nder
              </button>
            </form>
          </div>
        </div>
      </section>

      <!-- Settings Section -->
      <section id="settings" class="section-content hidden">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">Ayarlar</h2>
          <p class="text-gray-600">Hesap ayarlarÄ±nÄ±zÄ± yÃ¶netin</p>
        </div>

        <div class="bg-white rounded-2xl shadow-lg p-6">
          <h3 class="text-xl font-bold mb-6">Bildirim Tercihleri</h3>
          <div class="space-y-4">
            <label class="flex items-center justify-between p-4 border rounded-lg">
              <div>
                <h4 class="font-bold">E-posta Bildirimleri</h4>
                <p class="text-sm text-gray-600">Rezervasyon onaylarÄ± ve gÃ¼ncellemeler</p>
              </div>
              <input type="checkbox" checked class="w-6 h-6 text-blue-600 rounded focus:ring-blue-500">
            </label>

            <label class="flex items-center justify-between p-4 border rounded-lg">
              <div>
                <h4 class="font-bold">SMS Bildirimleri</h4>
                <p class="text-sm text-gray-600">Acil durumlar iÃ§in SMS</p>
              </div>
              <input type="checkbox" class="w-6 h-6 text-blue-600 rounded focus:ring-blue-500">
            </label>

            <label class="flex items-center justify-between p-4 border rounded-lg">
              <div>
                <h4 class="font-bold">Promosyon Bildirimleri</h4>
                <p class="text-sm text-gray-600">Ä°ndirim ve kampanya duyurularÄ±</p>
              </div>
              <input type="checkbox" checked class="w-6 h-6 text-blue-600 rounded focus:ring-blue-500">
            </label>
          </div>

          <div class="mt-8 pt-6 border-t">
            <h3 class="text-xl font-bold mb-6">GÃ¼venlik</h3>
            <div class="space-y-4">
              <button class="w-full text-left p-4 border rounded-lg hover:bg-gray-50 transition-colors">
                <h4 class="font-bold">Åžifre DeÄŸiÅŸtir</h4>
                <p class="text-sm text-gray-600">Hesap gÃ¼venliÄŸiniz iÃ§in ÅŸifrenizi gÃ¼ncelleyin</p>
              </button>

              <button class="w-full text-left p-4 border rounded-lg hover:bg-gray-50 transition-colors">
                <h4 class="font-bold">Ä°ki FaktÃ¶rlÃ¼ DoÄŸrulama</h4>
                <p class="text-sm text-gray-600">Ek gÃ¼venlik katmanÄ± ekleyin</p>
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Notification Panel -->
  <div id="notificationPanel" class="fixed top-20 right-4 w-80 bg-white rounded-2xl shadow-2xl z-50 hidden">
    <div class="p-4 border-b">
      <div class="flex justify-between items-center">
        <h3 class="font-bold">Bildirimler</h3>
        <button onclick="closeNotifications()" class="text-gray-400 hover:text-gray-600">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
    <div class="max-h-96 overflow-y-auto">
      <div class="p-4 border-b hover:bg-gray-50">
        <p class="text-sm">Rezervasyonunuz onaylandÄ±</p>
        <p class="text-xs text-gray-500">2 saat Ã¶nce</p>
      </div>
      <div class="p-4 border-b hover:bg-gray-50">
        <p class="text-sm">Ã–nceki hizmetiniz tamamlandÄ±</p>
        <p class="text-xs text-gray-500">1 gÃ¼n Ã¶nce</p>
      </div>
      <div class="p-4 border-b hover:bg-gray-50">
        <p class="text-sm">Yeni kampanya baÅŸladÄ±!</p>
        <p class="text-xs text-gray-500">2 gÃ¼n Ã¶nce</p>
      </div>
    </div>
  </div>

  <!-- Vehicle Modal -->
  <div id="vehicleModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-2xl p-8 w-full max-w-md mx-4">
      <h3 class="text-xl font-bold mb-6">Yeni AraÃ§ Ekle</h3>
      <form class="space-y-4">
        <div>
          <label class="block text-sm font-bold text-gray-700 mb-2">Marka</label>
          <input type="text" placeholder="Toyota" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
        </div>
        <div>
          <label class="block text-sm font-bold text-gray-700 mb-2">Model</label>
          <input type="text" placeholder="Corolla" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
        </div>
        <div>
          <label class="block text-sm font-bold text-gray-700 mb-2">Plaka</label>
          <input type="text" placeholder="34 ABC 123" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
        </div>
        <div>
          <label class="block text-sm font-bold text-gray-700 mb-2">Model YÄ±lÄ±</label>
          <input type="number" placeholder="2020" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
        </div>
        <div>
          <label class="block text-sm font-bold text-gray-700 mb-2">Renk</label>
          <input type="text" placeholder="Beyaz" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500">
        </div>
        <div class="flex space-x-3">
          <button type="submit" class="flex-1 gradient-bg text-white py-3 rounded-lg font-bold">Ekle</button>
          <button type="button" onclick="closeVehicleModal()" class="flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg font-bold">Ä°ptal</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Sample data for car washes
    const allCarWashes = [
      { id: 1, name: 'CarWash Merkez', city: 'Ä°stanbul', district: 'KadÄ±kÃ¶y', rating: 4.8, isFavorite: true, services: ['DÄ±ÅŸ YÄ±kama', 'Ä°Ã§ Temizlik'] },
      { id: 2, name: 'CarWash Premium', city: 'Ä°stanbul', district: 'BeÅŸiktaÅŸ', rating: 4.9, isFavorite: false, services: ['Tam DetaylandÄ±rma', 'Motor TemizliÄŸi'] },
      { id: 3, name: 'CarWash Express', city: 'Ä°stanbul', district: 'ÅžiÅŸli', rating: 4.5, isFavorite: true, services: ['DÄ±ÅŸ YÄ±kama'] },
      { id: 4, name: 'Ankara Oto YÄ±kama', city: 'Ankara', district: 'Ã‡ankaya', rating: 4.7, isFavorite: false, services: ['DÄ±ÅŸ YÄ±kama', 'Ä°Ã§ Temizlik'] },
      { id: 5, name: 'Ä°zmir HÄ±zlÄ± YÄ±kama', city: 'Ä°zmir', district: 'Bornova', rating: 4.6, isFavorite: true, services: ['DÄ±ÅŸ YÄ±kama'] },
      { id: 6, name: 'KadÄ±kÃ¶y Detay', city: 'Ä°stanbul', district: 'KadÄ±kÃ¶y', rating: 4.9, isFavorite: false, services: ['Tam DetaylandÄ±rma'] },
    ];

    // Sample districts data (for dynamic loading)
    const districtsByCity = {
      'Ä°stanbul': ['KadÄ±kÃ¶y', 'BeÅŸiktaÅŸ', 'ÅžiÅŸli', 'Fatih'],
      'Ankara': ['Ã‡ankaya', 'KÄ±zÄ±lay', 'Yenimahalle'],
      'Ä°zmir': ['Bornova', 'Konak', 'KarÅŸÄ±yaka']
    };

    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.section-content').forEach(section => {
        section.classList.add('hidden');
      });

      // Show selected section
      document.getElementById(sectionId).classList.remove('hidden');

      // Update sidebar active state
      document.querySelectorAll('aside a').forEach(link => {
        link.classList.remove('bg-white', 'bg-opacity-20');
      });

      // Add active state to clicked link
      let targetLink = event.target;
      while (targetLink && targetLink.tagName !== 'A') {
        targetLink = targetLink.parentNode;
      }
      if (targetLink) {
        targetLink.classList.add('bg-white', 'bg-opacity-20');
      }

      // Special handling for carWashSelection to load list
      if (sectionId === 'carWashSelection') {
        loadDistrictOptions(); // Load districts for the default city or all
        filterCarWashes(); // Display all car washes initially
      }
      // Ensure reservation list is shown by default when navigating to reservations
      if (sectionId === 'reservations') {
        hideNewReservationForm(); // Ensure the list view is active
      }
    }

    function toggleNotifications() {
      const panel = document.getElementById('notificationPanel');
      panel.classList.toggle('hidden');
    }

    function closeNotifications() {
      document.getElementById('notificationPanel').classList.add('hidden');
    }

    function openVehicleModal() {
      document.getElementById('vehicleModal').classList.remove('hidden');
    }

    function closeVehicleModal() {
      document.getElementById('vehicleModal').classList.add('hidden');
    }

    // Functions for New Reservation Form
    function showNewReservationForm() {
      document.getElementById('reservationListView').classList.add('hidden');
      document.getElementById('newReservationForm').classList.remove('hidden');
    }

    function hideNewReservationForm() {
      document.getElementById('newReservationForm').classList.add('hidden');
      document.getElementById('reservationListView').classList.remove('hidden');
    }

    function submitNewReservation() {
      // Here you would collect form data and send it to your backend
      const service = document.getElementById('service').value;
      const vehicle = document.getElementById('vehicle').value;
      const date = document.getElementById('reservationDate').value;
      const time = document.getElementById('reservationTime').value;
      const location = document.getElementById('location').value; // This will be the selected car wash name
      const notes = document.getElementById('notes').value;

      // Basic validation (you'd want more robust validation)
      if (!service || !vehicle || !date || !time || !location) {
        alert('LÃ¼tfen tÃ¼m zorunlu alanlarÄ± doldurun.');
        return;
      }

      console.log('New Reservation Data:', { service, vehicle, date, time, location, notes });
      alert('Rezervasyonunuz baÅŸarÄ±yla oluÅŸturuldu! (Bu bir demo mesajÄ±dÄ±r)');
      
      // Optionally, clear the form
      document.getElementById('service').value = '';
      document.getElementById('vehicle').value = '';
      document.getElementById('reservationDate').value = '';
      document.getElementById('reservationTime').value = '';
      document.getElementById('location').value = '';
      document.getElementById('notes').value = '';

      hideNewReservationForm(); // Go back to the reservation list after submission
    }

    // Car Wash Selection Functions
    function loadDistrictOptions() {
      const cityFilter = document.getElementById('cityFilter');
      const districtFilter = document.getElementById('districtFilter');
      const selectedCity = cityFilter.value;

      districtFilter.innerHTML = '<option value="">TÃ¼m Mahalleler</option>'; // Reset districts

      if (selectedCity && districtsByCity[selectedCity]) {
        districtsByCity[selectedCity].forEach(district => {
          const option = document.createElement('option');
          option.value = district;
          option.textContent = district;
          districtFilter.appendChild(option);
        });
      }
    }

    function filterCarWashes() {
      const cityFilter = document.getElementById('cityFilter').value.toLowerCase();
      const districtFilter = document.getElementById('districtFilter').value.toLowerCase();
      const carWashNameFilter = document.getElementById('carWashNameFilter').value.toLowerCase();
      const favoriteFilter = document.getElementById('favoriteFilter').checked;
      const carWashListDiv = document.getElementById('carWashList');
      carWashListDiv.innerHTML = ''; // Clear current list

      const filteredWashes = allCarWashes.filter(carWash => {
        const matchesCity = !cityFilter || carWash.city.toLowerCase().includes(cityFilter);
        const matchesDistrict = !districtFilter || carWash.district.toLowerCase().includes(districtFilter);
        const matchesName = !carWashNameFilter || carWash.name.toLowerCase().includes(carWashNameFilter);
        const matchesFavorite = !favoriteFilter || carWash.isFavorite;
        
        return matchesCity && matchesDistrict && matchesName && matchesFavorite;
      });

      if (filteredWashes.length === 0) {
        carWashListDiv.innerHTML = '<p class="text-gray-600 text-center col-span-full">SeÃ§iminize uygun oto yÄ±kama bulunamadÄ±.</p>';
        return;
      }

      filteredWashes.forEach(carWash => {
        const carWashCard = `
          <div class="bg-white rounded-2xl p-6 card-hover shadow-lg flex flex-col">
            <div class="flex justify-between items-start mb-4">
              <h4 class="font-bold text-xl text-gray-800">${carWash.name}</h4>
              <button onclick="toggleFavorite(${carWash.id})" class="text-gray-400 hover:text-red-500 transition-colors">
                <i class="${carWash.isFavorite ? 'fas text-red-500' : 'far'} fa-heart text-xl"></i>
              </button>
            </div>
            <p class="text-sm text-gray-600 mb-2"><i class="fas fa-map-marker-alt mr-2"></i>${carWash.district}, ${carWash.city}</p>
            <p class="text-sm text-gray-600 mb-4"><i class="fas fa-star text-yellow-400 mr-2"></i>${carWash.rating} (${(Math.random() * 100).toFixed(0)} yorum)</p>
            <div class="flex flex-wrap gap-2 mb-4">
              ${carWash.services.map(service => `<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">${service}</span>`).join('')}
            </div>
            <button onclick="selectCarWashForReservation(${carWash.id}, '${carWash.name.replace(/'/g, "\\'")}')" class="mt-auto gradient-bg text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all">
              <i class="fas fa-calendar-alt mr-2"></i>Rezervasyon Yap
            </button>
          </div>
        `;
        carWashListDiv.innerHTML += carWashCard;
      });
    }

    function toggleFavorite(carWashId) {
      const carWashIndex = allCarWashes.findIndex(cw => cw.id === carWashId);
      if (carWashIndex > -1) {
        allCarWashes[carWashIndex].isFavorite = !allCarWashes[carWashIndex].isFavorite;
        filterCarWashes(); // Re-render the list to update heart icon
      }
    }

    function selectCarWashForReservation(carWashId, carWashName) {
      try {
        const params = new URLSearchParams();
        params.set('carwash_id', String(carWashId));
        if (carWashName) params.set('carwash_name', carWashName);
        const bookingPath = '/carwash_project/frontend/booking.html';
        window.open(bookingPath + '?' + params.toString(), '_blank');
        return;
      } catch (e) {
        console.warn('Redirect to booking page failed, falling back to in-page form prefill', e);
      }

      // Fallback: prefill in-page form
      const loc = document.getElementById('location');
      if (loc) loc.value = carWashName || '';
      showSection('reservations');
      showNewReservationForm();
      document.getElementById('newReservationForm').scrollIntoView({ behavior: 'smooth' });
    }


    // Close modals when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('vehicleModal');
      const notificationPanel = document.getElementById('notificationPanel');

      if (event.target == modal) {
        modal.classList.add('hidden');
      }

      if (!event.target.closest('#notificationPanel') && !event.target.closest('[onclick="toggleNotifications()"]')) {
        notificationPanel.classList.add('hidden');
      }
    }

    // Initialize dashboard
    document.addEventListener('DOMContentLoaded', function() {
      showSection('dashboard');
    });
  </script>

</body>
</html>

